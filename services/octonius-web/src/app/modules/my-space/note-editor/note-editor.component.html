<div class="h-screen flex flex-col bg-base-100">
  <!-- Compact Header -->
  <div class="flex items-center justify-between p-4 border-b border-base-300 bg-base-100 z-10 flex-shrink-0">
    <div class="flex items-center space-x-4">
      <button (click)="goBackToFiles()" class="btn btn-ghost btn-sm">
        <span class="text-lg">â†</span>
      </button>
      
      <!-- Title Input - Inline -->
      <input type="text" 
             [(ngModel)]="noteTitle"
             (ngModelChange)="onTitleChange()"
             placeholder="Untitled Note"
             class="text-lg font-semibold bg-transparent border-none outline-none placeholder-base-content/50 focus:placeholder-base-content/70 min-w-[200px] max-w-[400px]">
    </div>
    
    <div class="flex items-center space-x-2">
      <!-- Auto-save status indicator -->
      <div class="hidden md:flex items-center space-x-2 text-sm text-base-content/70">
        <div class="status-dot w-2 h-2 rounded-full" [class]="getSaveStatusClass()"></div>
        <span class="text-xs">{{ getSaveStatusText() }}</span>
      </div>
      
      <button (click)="shareNote()" class="btn btn-ghost btn-sm">
        Share
      </button>
      
      <!-- Dropdown Menu -->
      <div class="dropdown dropdown-end">
        <div tabindex="0" role="button" class="btn btn-ghost btn-sm btn-square">
          <span>â‹¯</span>
        </div>
        <ul tabindex="0" class="dropdown-content menu bg-base-100 rounded-box z-[1] w-64 p-2 shadow-lg">
          <li>
            <a (click)="saveNow()" [class.disabled]="isSaving" class="flex items-center gap-3">
              <span class="text-lg">ğŸ’¾</span>
              <span>{{ isSaving ? 'Saving...' : 'Save Now' }}</span>
            </a>
          </li>
          <li>
            <a (click)="toggleAutoSave()" class="flex items-center gap-3">
              <span class="text-lg">{{ autoSaveEnabled ? 'â¸ï¸' : 'â–¶ï¸' }}</span>
              <span>{{ autoSaveEnabled ? 'Pause Auto-save' : 'Enable Auto-save' }}</span>
            </a>
          </li>
          <li class="menu-title mt-2">
            <span class="text-xs font-semibold opacity-60">Auto-save Settings</span>
          </li>
          <li>
            <div class="flex items-center justify-between px-3 py-2">
              <span class="text-sm opacity-70">Interval:</span>
              <select [(ngModel)]="autoSaveInterval" (change)="onAutoSaveIntervalChange()" class="select select-xs select-bordered max-w-xs">
                <option value="15">15s</option>
                <option value="30">30s</option>
                <option value="60">1m</option>
                <option value="120">2m</option>
              </select>
            </div>
          </li>
          <li class="menu-title mt-2">
            <span class="text-xs font-semibold opacity-60">Debug Info</span>
          </li>
          <li>
            <div class="text-xs opacity-50 px-3 py-2 space-y-1">
              <div>Last saved: {{ lastSavedTime || 'Never' }}</div>
              <div>Changes: {{ hasUnsavedChanges ? 'Yes' : 'No' }}</div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Full-Screen Editor -->
  <div class="flex-1 overflow-hidden bg-base-100">
    <div id="editorjs" #editorjs class="w-full h-full p-6 md:p-4 sm:p-3"></div>
  </div>
</div> 